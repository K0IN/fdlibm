#include "testconfig.h"
#define TEST_FUNC_F_F __MATH_PRECNAME(y1)
#include "testdriver.h"



static test_f_f_data const y1_data[] = {
	{ __LINE__, QNAN_P, QNAN_P, 0 },
	{ __LINE__, QNAN_M, QNAN_P, 0 },
	{ __LINE__, SNAN_P, QNAN_P, 0 },
	{ __LINE__, SNAN_M, QNAN_P, 0 },
	{ __LINE__, INF_P, ZERO_P, 0 },
	{ __LINE__, INF_M, QNAN_P, 0 },
	{ __LINE__, ZERO_P, INF_M, 0 },
	{ __LINE__, ZERO_M, INF_M, 0 },
	{ __LINE__, SUBNORM_P, ZERO_P, FLAG_SUBNORM },
	{ __LINE__, SUBNORM_M, ZERO_M, FLAG_SUBNORM },
	{ __LINE__, MIN_P, ZERO_P, 0 },
	{ __LINE__, MIN_M, ZERO_M, 0 },
	{ __LINE__, MAX_P, INF_P, 0 },
	{ __LINE__, MAX_M, INF_M, 0 },

	/* y1 is the Bessel function of the second kind of order 1 */
#if 0 /* TODO: could be either inf or nan */
	{ __LINE__, HEXCONSTE(-1.0, 0xbfff, 0x80000000L, 0x00000000L), INF_M, INVALID_EXCEPTION },
#endif

	{ __LINE__, HEXCONSTE(0.125L, 0x3ffc, 0x80000000L, 0x00000000L), HEXCONSTE(-5.19993611253477499595928744876579921L, 0xc001, 0xa665e06bL, 0x140a1c74L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(0.75L, 0x3ffe, 0xc0000000L, 0x00000000L), HEXCONSTE(-1.03759455076928541973767132140642198L, 0xbfff, 0x84cfe5f3L, 0x07ec1815L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(1.0, 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE(-0.781212821300288716547150000047964821L, 0xbffe, 0xc7fd903eL, 0xb35ca24fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(1.5, 0x3fff, 0xc0000000L, 0x00000000L), HEXCONSTE(-0.412308626973911295952829820633445323L, 0xbffd, 0xd31a1dc9L, 0x6c5877f2L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(2.0, 0x4000, 0x80000000L, 0x00000000L), HEXCONSTE(-0.107032431540937546888370772277476637L, 0xbffb, 0xdb33d1c8L, 0xa3323ac6L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(8.0, 0x4002, 0x80000000L, 0x00000000L), HEXCONSTE(-0.158060461731247494255555266187483550L, 0xbffc, 0xa1da9a07L, 0xb499b086L), FLAG_INEXACT4 },
	{ __LINE__, HEXCONSTE(10.0, 0x4002, 0xa0000000L, 0x00000000L), HEXCONSTE(0.249015424206953883923283474663222803L, 0x3ffc, 0xfefde63cL, 0xac79e011L), FLAG_INEXACT4 },

	{ __LINE__, HEXCONSTE(7.32570512175965063567e+29, 0x4062, 0x93f10200L, 0x00000000L), HEXCONSTE(-8.881610148467797208469612080785210013461e-16L, 0xbfcc, 0xfffeb73bL, 0x4b2a6b65L), FLAG_INEXACT },

#ifndef TEST_FLOAT
	{ __LINE__, HEXCONSTE(3.24260049552016421366e+178, 0x4250, 0x80080000L, 0x08000000L), HEXCONSTE(3.927269966354206207832593635798954916263e-90L, 0x3ed5, 0xffffeb78L, 0x29d45532L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(8.98846567431157953865e+307, 0x43fe, 0x80000000L, 0x00000000L), HEXCONSTE(1.5665258060609012834424478437196679802783e-155L, 0x3dfc, 0xd713e11dL, 0xe5fcbec1L), FLAG_INEXACT },
#endif

#if defined TEST_LDOUBLE && LDBL_MAX_EXP >= 16384
	{ __LINE__, HEXCONSTE(2.97432873839307941271e+4931, 0x7ffd, 0x80000000L, 0x00000000L), HEXCONSTE(1.2193782500509000574176799046642541129387e-2466L, 0x1fff, 0xaa3e927dL, 0x898c8098L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(5.94865747678615882543e+4931, 0x7ffe, 0x80000000L, 0x00000000L), HEXCONSTE(-9.5859502826270374691362975419147645151233e-2467L, 0x9fff, 0x85d5c0e6L, 0xffc90411L), OVERFLOW_EXCEPTION_OK },
#endif

	{ __LINE__, HEXCONSTE(9.76562500000000000000e-04, 0x3ff5, 0x80000000L, 0x00000000L), HEXCONSTE(-6.5190099301063115047395187618929589514382e+02L, 0xc008, 0xa2f9a9deL, 0x96a576baL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(9.53674316406250000000e-07, 0x3feb, 0x80000000L, 0x00000000L), HEXCONSTE(-6.6754421443450423911167962313100637952285e+05L, 0xc012, 0xa2f9836eL, 0x52dfed75L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(9.31322574615478515625e-10, 0x3fe1, 0x80000000L, 0x00000000L), HEXCONSTE(-6.8356527557643159612937462812258975438856e+08L, 0xc01c, 0xa2f9836eL, 0x4e441597L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(9.09494701772928237915e-13, 0x3fd7, 0x80000000L, 0x00000000L), HEXCONSTE(-6.9997084219026594793707805777425993547887e+11L, 0xc026, 0xa2f9836eL, 0x4e44152aL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(8.88178419700125232339e-16, 0x3fcd, 0x80000000L, 0x00000000L), HEXCONSTE(-7.1677014240283233068755952926181262431559e+14L, 0xc030, 0xa2f9836eL, 0x4e44152aL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(8.67361737988403547206e-19, 0x3fc3, 0x80000000L, 0x00000000L), HEXCONSTE(-7.3397262582050030662406095795388448059822e+17L, 0xc03a, 0xa2f9836eL, 0x4e44152aL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(8.47032947254300339068e-22, 0x3fb9, 0x80000000L, 0x00000000L), HEXCONSTE(-7.5158796884019231398303842094477769620063e+20L, 0xc044, 0xa2f9836eL, 0x4e44152aL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(8.27180612553027674871e-25, 0x3faf, 0x80000000L, 0x00000000L), HEXCONSTE(-7.6962608009235692951863134304745236090943e+23L, 0xc04e, 0xa2f9836eL, 0x4e44152aL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(8.07793566946316088742e-28, 0x3fa5, 0x80000000L, 0x00000000L), HEXCONSTE(-7.8809710601457349582707849528059121757126e+26L, 0xc058, 0xa2f9836eL, 0x4e44152aL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(7.88860905221011805412e-31, 0x3f9b, 0x80000000L, 0x00000000L), HEXCONSTE(-8.0701143655892325972692837916732540679297e+29L, 0xc062, 0xa2f9836eL, 0x4e44152aL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE(7.70371977754894341222e-34, 0x3f91, 0x80000000L, 0x00000000L), HEXCONSTE(-8.2637971103633741796037466026734121655600e+32L, 0xc06c, 0xa2f9836eL, 0x4e44152aL), FLAG_INEXACT },
};


int main(int argc, char **argv)
{
	int status;
	
	status = 0;
	
	test_init(argc, argv);
	
	status |= test_table_f_f(y1_data, ARRAY_SIZE(y1_data), __FILE__);
	
	return status ? EXIT_FAILURE : EXIT_SUCCESS;
}
